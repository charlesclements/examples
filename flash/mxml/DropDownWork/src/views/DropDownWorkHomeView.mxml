<?xml version="1.0" encoding="utf-8"?>
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009" 
		xmlns:s="library://ns.adobe.com/flex/spark" title="HomeView" initialize="init();" xmlns:ns="http://www.flextras.com/mxml">
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
		
		
		
		
		
	</fx:Declarations>
	
	
		
		<fx:Script>
			<![CDATA[
				
				import mx.collections.XMLListCollection;
				
				import spark.events.IndexChangeEvent;
				
				[Embed(source='test.xml', mimeType="application/octet-stream")]
				public static const xmlClass:Class; 
				private var _xml:XML = new XML( new xmlClass );
				
				[Bindable]
				private var _xmlListCollection:XMLListCollection;// = new XMLListCollection( _xml.content );
				
				
				
				private function init():void
				{
					
					trace("init");
					
					//_xmlListCollection.u
					
					
					var editXML:XML = 
						<test>
							<content name="NEW VERSE" />
						</test>;
					
					
					_xml.appendChild( editXML );
					
					
					
					
					_xmlListCollection = new XMLListCollection( _xml.content );
					
					
					// Add EDIT button to dropdown?
					
					// Create XMLList
					
				//	_xmlListCollection.addItem( editXML );
					
					
					
					
					
					
					/*
					
					var editXMLList:XMLList = new XMLList( editXML );
					
					
					//trace(editXML);
					
					_xmlListCollection.addItem( editXMLList );
					*/
					
					trace(_xmlListCollection.source.children());
					trace(_xmlListCollection.length);
					
					
					
					
					
				}
				
				
				
				
				private function onEvent(e:Event):void
				{
					
					
					trace(e.type);
					trace( ( e.target as DropDownList ).selectedIndex);
					
					
					
				}
				
				
				
			]]>
		</fx:Script>
			
	
	<ns:DropDownList width="100%" selectedIndex="0" id="drop1" dataProvider="{_xmlListCollection}" change="onEvent(event)" labelField="@name"></ns:DropDownList>
	
</s:View>
