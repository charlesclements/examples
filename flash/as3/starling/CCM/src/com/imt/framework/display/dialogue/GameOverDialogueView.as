package com.imt.framework.display.dialogue{	import com.bedrock.framework.core.dispatcher.BedrockDispatcher;	import com.bedrock.framework.plugin.util.ButtonUtil;	import com.imt.framework.engine.data.GameData;	import com.imt.framework.engine.data.SiteData;	import com.imt.framework.display.IDisplay;	import com.imt.framework.display.button.AnimatedLightsButton;	import com.imt.framework.core.event.SiteEvent;		import flash.display.MovieClip;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.text.TextField;
		public class GameOverDialogueView extends AbstractDialogue  implements IDisplay	{				public var btnNextPlayer:AnimatedLightsButton;		public var btnEndGame:AnimatedLightsButton;		//public var txtType:TextField;		//public var txtValue:TextField;		public var mcPrizeDescGameOver:MovieClip;		//public var mcNextPlayer:MovieClip;						// Constructor.		public function GameOverDialogueView()		{						super();					}						// Initialize class.		public function initialize():void		{						trace(this + " : initialize" );					}						// Refresh class properties.		public function refresh():IDisplay		{						trace(this + " : refresh()" );			btnEndGame.refresh();			btnEndGame.addEventListener( SiteEvent.SELECTION, onEvent );			btnNextPlayer.refresh()			btnNextPlayer.addEventListener( SiteEvent.SELECTION, onEvent );			mcPrizeDescGameOver.txtValue.text = "$" + String( GameData.PRIZE_VALUE );			mcPrizeDescGameOver.txtType.text = String( GameData.PRIZE_TYPE );			mcPrizeDescGameOver.txtTotalCash.text = "$" + String( GameData.TOTAL_CASH ) + " Cash";			mcPrizeDescGameOver.txtTotalFreePlay.text = "$" + String( GameData.TOTAL_FREEPLAY ) + " Free Play";			var b:Boolean = ( GameData.PLAYER_INDEX < GameData.GAME_XML..player.length() - 1 );			btnNextPlayer.visible = b;			return this;		}						// Refresh class properties.		public function clear():IDisplay		{						trace(this + " : clear()" );			return this;					}						// Handle all events.		private function onEvent(e:Event):void		{						switch( e.type )			{				case SiteEvent.SELECTION:									trace(this + " : " + e.type );					switch( e.currentTarget )					{												case btnEndGame:							close();							//BedrockDispatcher.dispatchEvent( new SiteEvent( SiteEvent.RESET, this, {} ));							BedrockDispatcher.dispatchEvent( new SiteEvent( SiteEvent.NEXT_GAME, this, {} ));							break;												case btnNextPlayer:							close();							BedrockDispatcher.dispatchEvent( new SiteEvent( SiteEvent.NEXT_GAME, this, {} ));							break;											}					break;							}					}			}}