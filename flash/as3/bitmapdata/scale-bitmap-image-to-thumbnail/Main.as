package{		import flash.display.Bitmap;	import flash.display.MovieClip;	import flash.display.DisplayObject;	import flash.display.BitmapData;	import flash.geom.Matrix;		public class Main extends MovieClip	{				private var originalImage:Bitmap		private var newImage:Bitmap				public function Main()		{						originalImage = new Bitmap( new LibraryImage );;			trace("originalImage.bitmapData.rect : " + originalImage.bitmapData.rect );			addChild( originalImage );						newImage = drawScaledBitmap( originalImage, 100, 100);			trace("newImage.bitmapData.rect : " + newImage.bitmapData.rect );			newImage.x = newImage.y = 20;			addChild( newImage );					}						// Will return a new scaled Bitmap of the DisplayObject passed.		private function drawScaledBitmap(obj:DisplayObject, w:uint, h:uint, $color:uint=0xff0000, $transparent:Boolean=true):Bitmap 		{						// Create a brand new BitmapData copy of the DisplayObject being passed. 			// That way there will be no conflict with the original BitmapData possibly being manipulated..			var c:BitmapData = new BitmapData( obj.width, obj.height, $transparent, $color );			c.draw( obj );			// Scale.			var s:Number = ( w / c.width < h / c.height) ? w / c.width : h / c.height;			// Modify the Matrix to scale down image.			var m:Matrix = new Matrix();			m.translate(  ( w / s  * 0.5 ) - ( c.width * 0.5 ), ( h / s  * 0.5 ) - ( c.height * 0.5 ) );			m.scale(s,s);			var bmp:BitmapData = new BitmapData( w, h, false, $color );			bmp.draw( c, m );			c.dispose();			return new Bitmap( bmp );					}					}	}